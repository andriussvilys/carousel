{"version":3,"sources":["components/Carousel.js","App.js","index.js","components/css/index.module.scss"],"names":["Carousel","props","zoomDefault","zoomedIn","zoomIndex","zoomPower","x","y","startX","startY","containerRef","React","useRef","useState","currentSlide","prevTransform","initialTransform","currentTransform","movePosition","setMovePosition","bind","useGesture","onDragEnd","state","direction","positionFix","slideCount","images","length","slideWidth","index","dragEndHandler","movement","onDrag","console","log","containerWidth","current","clientWidth","transform","useEffect","newTransfrom","zoom","slideTo","ref","className","styles","container","id","slideContainer","style","width","map","image","slide","key","draggable","src","alt","button_zoom","onClick","hi","imageList","dots","dotList","App","setCurrentSlide","setImages","families","sparkle","spring","familyList","Object","keys","family","array","document","getElementById","classList","add","ReactDOM","render","StrictMode","module","exports"],"mappings":"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","file":"static/js/main.e15d5824.chunk.js","sourcesContent":["import React, { useEffect } from 'react'\r\nimport { useDrag, useMove, useGesture } from 'react-use-gesture'\r\n\r\nimport styles from './css/index.module.scss'\r\n\r\nconst Carousel = props => {\r\n    const zoomDefault =  {\r\n        zoomedIn: null,\r\n        zoomIndex: null,\r\n        zoomPower: 1,\r\n        x: 0,\r\n        y: 0,\r\n        startX: null,\r\n        startY: null,\r\n    }\r\n    // const [cursorPosition, setCursorPosition] = React.useState({\r\n    //       isDown: null,\r\n    //       startX: null,\r\n    //       cursorMove: 0,\r\n    //       transform: 0,\r\n    //       prevTransform: props.initialTransform,\r\n    //       currentSlide: props.index,\r\n    //       zoom: {...zoomDefault},\r\n    //       pinchStart: {\r\n    //           x1: 0,\r\n    //           x2: 0,\r\n    //           y1: 0,\r\n    //           y2: 0,\r\n    //       }\r\n    //     });\r\n\r\n    const zoomRef = React.useRef(null)\r\n    const currentSlideRef = React.useRef(null)\r\n\r\n    const slideTo = (index) => {\r\n        const newTransfrom = -((100 / props.images.length) * index)\r\n        setMovePosition({\r\n            ...movePosition,\r\n            currentSlide: index,\r\n            currentTransform: newTransfrom,\r\n            prevTransform: newTransfrom,\r\n            zoom: {...zoomDefault}\r\n        })\r\n    }\r\n\r\n    const dots = (imageList) => {\r\n        if(!imageList || imageList.length < 0){return}\r\n        const dots = imageList.map((image, index) => {\r\n            return <li \r\n            // onClick={() => {\r\n            //     slideTo(index)\r\n            // }}\r\n            key={`carouselDot-${index}`} \r\n            // className={`${styles.dot} ${index === cursorPosition.currentSlide ? styles.dot_active : \"\"}`}\r\n            ></li>\r\n        })\r\n        return <ul className={styles.dotList}>{dots}</ul>\r\n    }\r\n\r\n\r\n\r\n\r\n    const renderImages = (data) => {\r\n        return data.map((image, index) => {\r\n        return (\r\n            <div\r\n            className={styles.slide}\r\n            // ref={cursorPosition.currentSlide === image.index ? currentSlideRef : null }\r\n            key={`${image}-${index}`}\r\n            style={{width: `${100 / props.images.length}%`}}\r\n            >                       \r\n                <img \r\n                    draggable={false}\r\n                    // ref={cursorPosition.currentSlide === image.index ? zoomRef : null}\r\n                    // style={cursorPosition.zoom.zoomedIn ? \r\n                    //     {transform: \r\n                    //     `scale(${cursorPosition.zoom.zoomPower}) \r\n                    //     translate(${cursorPosition.zoom.x}%, \r\n                    //     ${cursorPosition.zoom.y}%)`} \r\n                    //     : {}}\r\n                    src={image.src}\r\n                    alt={image.src}\r\n                />\r\n            </div>\r\n        )\r\n        })\r\n    }\r\n          \r\n    const containerRef = React.useRef()\r\n    const [movePosition, setMovePosition] = React.useState({\r\n        currentSlide: props.currentSlide,\r\n        prevTransform: props.initialTransform,\r\n        currentTransform: props.initialTransform\r\n    })\r\n\r\n    const dragEndHandler = (x) => {\r\n        // console.log(\"DRAG END\")\r\n        // console.log(x)\r\n        const direction = x < 0 ? 1 : -1\r\n\r\n        var positionFix = movePosition.currentTransform;\r\n        var slideCount = props.images.length;\r\n        var slideWidth = 100 / slideCount;\r\n        var index = null\r\n\r\n        if (positionFix > 0) {\r\n          positionFix = 0;\r\n          index = 0;\r\n        } \r\n        if (positionFix < slideWidth - 100) {\r\n            positionFix = (slideWidth - 100);\r\n            index = slideCount - 1;\r\n        } \r\n        else {\r\n        index = movePosition.currentSlide + direction;\r\n        // console.log({currentSlide: movePosition.currentSlide, next: index, direction, x})\r\n            if(index < 0){index = 0}\r\n            if(index > slideCount - 1){index = slideCount -1 }\r\n            positionFix = -((index) * (100 / slideCount));\r\n        }\r\n        return setMovePosition({\r\n            ...movePosition, \r\n            currentSlide: index,\r\n            // prevTransform: movePosition.currentTransform,\r\n            prevTransform: positionFix,\r\n            currentTransform: positionFix,\r\n        })\r\n    }\r\n\r\n    const bind = useGesture(\r\n        {\r\n            onDragEnd: (state) => dragEndHandler(state.movement[0]),\r\n            // onDrag: ({movement: [mx, my]}) => {\r\n            onDrag: (state) => {\r\n                console.log(state)\r\n                // state.event.stopPropagation()\r\n                  const containerWidth = containerRef.current.clientWidth;\r\n                  const slideCount = props.images.length\r\n                  let  transform = movePosition.prevTransform + ((state.movement[0] * 100 / containerWidth) / slideCount)\r\n\r\n                //   transform = transform.toFixed(2)\r\n                //   console.log({transform})\r\n                //   console.log({...movePosition})\r\n                  return setMovePosition({ \r\n                    ...movePosition,  \r\n                    currentTransform: transform,\r\n                    })\r\n            }\r\n\r\n        }\r\n    )\r\n\r\n    useEffect(() => {\r\n        // setMovePosition({\r\n        //     ...movePosition,\r\n        //     direction: null,\r\n        //     transform: props.initialTransform,\r\n        //     prevTransform: props.initialTransform,\r\n        //     currentSlide: props.currentSlide,\r\n        //     zoom:{...zoomDefault}\r\n        // })\r\n        slideTo(props.currentSlide)\r\n      }, [props])\r\n\r\n    return(\r\n            <div \r\n                ref={containerRef}\r\n                className={styles.container}\r\n            >\r\n            <div \r\n                {...bind()}\r\n                id=\"slideContainer\"\r\n                className={styles.slideContainer}\r\n                style={{\r\n                    width: `${100 * props.images.length}%`,\r\n                    // transform: `translateX(${-cursorPosition.transform}%)`\r\n                    transform: `translateX(${movePosition.currentTransform}%)`\r\n                }}\r\n            >\r\n                {renderImages(props.images)}\r\n            </div>\r\n            <button \r\n            className={styles.button_zoom}\r\n            onClick={() => {\r\n                setMovePosition({\r\n                    ...movePosition,\r\n                    hi: !movePosition.hi\r\n                })\r\n                // let zoomedIn = null\r\n                // const countZoom = () => {\r\n                //     let zoomPower = cursorPosition.zoom.zoomPower + 1\r\n                //     zoomedIn = true\r\n                //     if(zoomPower > 3){\r\n                //         zoomPower = 1\r\n                //         zoomedIn = false\r\n                //     }\r\n                //     return {zoomPower, zoomedIn}\r\n                // }\r\n                // const zoom = countZoom()\r\n                // setCursorPosition({\r\n                //     ...cursorPosition, \r\n                //     zoom: {\r\n                //         ...cursorPosition.zoom,\r\n                //         zoomedIn: zoom.zoomedIn,\r\n                //         zoomPower: zoom.zoomPower,\r\n                //         zoomIndex: cursorPosition.currentSlide,\r\n                //         y: 0,\r\n                //         x: 0\r\n                //     }\r\n                // })\r\n            }}>enlarge</button>\r\n            {dots(props.images)}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Carousel\r\n\r\n\r\n  ","import React, { useEffect } from 'react';\r\nimport Carousel from './components/Carousel'\r\nimport './index.css'\r\n\r\nconst App = props => {\r\n  let [currentSlide, setCurrentSlide] = React.useState({\r\n    index: 0, \r\n    initialTransform: 0})\r\n  var [images, setImages] = React.useState([1, 2, 3, 4, 5])\r\n\r\n  const families = {\r\n    sparkle: [{\r\n      src: \"./images/sparkle-1.png\",\r\n      index: 0\r\n    }, {\r\n      src: \"./images/sparkle-2.png\",\r\n      index: 1\r\n    }, {\r\n      src: \"./images/sparkle-3.png\",\r\n      index: 2\r\n    },\r\n    {\r\n      src: \"./images/sparkle-4.png\",\r\n      index: 3\r\n    },\r\n    {\r\n      src: \"./images/long.jpg\",\r\n      index: 4\r\n    },\r\n    {\r\n      src: \"./images/tall.png\",\r\n      index: 5\r\n    }],\r\n\r\n    spring: [{\r\n      src: \"./images/spring-1.png\",\r\n      index: 0\r\n    }, {\r\n      src: \"./images/spring-2.png\",\r\n      index: 1\r\n    }, {\r\n      src: \"./images/spring-3.png\",\r\n      index: 2\r\n    }]\r\n  }\r\n\r\n  const familyList = Object.keys(families)\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Carousel \r\n        currentSlide={currentSlide.index}\r\n        initialTransform={currentSlide.initialTransform}\r\n        images={images}\r\n      />\r\n      <div className=\"fams\">\r\n        {   \r\n          familyList.map((family) => {\r\n            return <div key={family} className=\"famContainer\">\r\n              <h3>{family}</h3>\r\n              <div className=\"famImages\">\r\n                {\r\n                  families[family].map((image, index, array) => {\r\n                    return <div key={`${image}-${index}`} className=\"imgWrapper\">\r\n                      <img \r\n                          key={image.src}\r\n                          src={image.src}\r\n                          alt={image.src}\r\n\r\n                          onClick={() => {\r\n                            setImages(families[family]);\r\n                            setCurrentSlide({index: image.index, initialTransform: (100 / array.length * image.index)});\r\n                            var slideContainer = document.getElementById(\"slideContainer\");\r\n                            slideContainer.classList.add(\"smoothSlide\");\r\n                          }}\r\n                      />\r\n                    </div>\r\n                  })\r\n                }\r\n              </div>\r\n            </div>\r\n        })\r\n        }\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"disableBodyScroll\":\"css_disableBodyScroll__1xH86\",\"container\":\"css_container__3i3vU\",\"slideContainer\":\"css_slideContainer__8k5Ho\",\"slide\":\"css_slide__mS6RN\",\"button_zoom\":\"css_button_zoom__2VlCI\",\"zoomedIn\":\"css_zoomedIn__2LEqu\",\"dotList\":\"css_dotList__h_sCG\",\"dot\":\"css_dot__3W-KR\",\"dot_active\":\"css_dot_active__3K7-S\"};"],"sourceRoot":""}