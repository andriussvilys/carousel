{"version":3,"sources":["carousel/css/carousel.module.css","carousel/Carousel.js","App.js","index.js"],"names":["module","exports","Carousel","React","forwardRef","props","ref","useState","isDown","startX","transform","prevTransform","direction","currentSlide","cursorPosition","setCursorPosition","startHandler","e","console","log","preventDefault","container","document","querySelector","styles","slideContainer","classList","remove","pageX","touches","offsetLeft","moveHandler","walk","clientWidth","newWalk","endHandler","add","positionFix","slideCount","images","length","slideWidth","className","id","style","width","onMouseDown","onTouchStart","onMouseMove","onTouchMove","onMouseUp","onTouchEnd","map","image","index","key","slide","src","alt","App","data","carouselRef","createRef","setCurrentSlide","imageList","changeImageList","sparkle","spring","Object","keys","family","img","arr","onClick","getElementById","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.59d1b583.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"carousel_container__o3-kJ\",\"slideContainer\":\"carousel_slideContainer__sKs2C\",\"slide\":\"carousel_slide__3KAq-\"};","import React from 'react'\r\nimport styles from './css/carousel.module.css'\r\n\r\nconst Carousel = React.forwardRef((props, ref) => {\r\n\r\n    // const [loaded, checkLoaded] = React.useState(false)\r\n    // let [transformValue, setTransformValue] = React.useState(0)\r\n\r\n    let [cursorPosition, setCursorPosition] = React.useState({\r\n        isDown: null,\r\n        startX: null,\r\n        transform: 0,\r\n        prevTransform: 0,\r\n        direction: null,\r\n        currentSlide: props.currentSlide\r\n    })\r\n\r\n    let {isDown, startX, prevTransform} = cursorPosition\r\n\r\n    // const carouselRef = ref\r\n\r\n\r\n\r\n    const startHandler = e => {\r\n        console.log(\"touched\")\r\n        e.preventDefault()\r\n        const container = document.querySelector(`.${styles.container}`)\r\n        const slideContainer = document.querySelector(`.${styles.slideContainer}`)\r\n        slideContainer.classList.remove(\"smoothSlide\")\r\n        const pageX = e.touches ? e.touches[0].pageX : e.pageX\r\n        setCursorPosition({...cursorPosition, isDown: true, startX: pageX - container.offsetLeft})\r\n    }\r\n    const moveHandler = (e) => {\r\n        if(!isDown)return\r\n        e.preventDefault()\r\n        const container = document.querySelector(`.${styles.container}`)\r\n        const slideContainer = document.querySelector(`.${styles.slideContainer}`)\r\n        const pageX = e.touches ? e.touches[0].pageX : e.pageX\r\n        const x = pageX - container.offsetLeft\r\n        let walk = ((x - startX) * 100) / slideContainer.clientWidth\r\n        // -1: PREV, 1: NEXT\r\n        const direction = walk > 0 ? -1 : 1\r\n        const newWalk = walk + prevTransform\r\n        setCursorPosition({\r\n            ...cursorPosition,\r\n            transform: newWalk,\r\n            direction: direction,\r\n        })\r\n\r\n        console.log(`WALK: ${walk}`)\r\n    }\r\n    const endHandler = () => {\r\n        const slideContainer = document.querySelector(`.${styles.slideContainer}`)\r\n        slideContainer.classList.add(\"smoothSlide\")\r\n        let positionFix = cursorPosition.transform\r\n        let currentSlide = null\r\n        const slideCount = props.images.length\r\n        console.log(`SLIDE COUNT ${slideCount}`)\r\n        const slideWidth = 100 / slideCount\r\n        // console.log(`currentSlide ${cursorPosition.currentSlide}`)\r\n        // console.log(`direction ${cursorPosition.direction}`)\r\n        if(cursorPosition.transform > 0){\r\n            positionFix = 0\r\n            currentSlide = 0\r\n        }\r\n        else if(cursorPosition.transform < slideWidth - 100){\r\n            positionFix = slideWidth - 100\r\n            currentSlide = slideCount - 1\r\n        }\r\n        else{\r\n            positionFix = -(cursorPosition.currentSlide + cursorPosition.direction) * (100 / slideCount)\r\n            currentSlide = cursorPosition.currentSlide + cursorPosition.direction\r\n        }\r\n\r\n        setCursorPosition({\r\n            ...cursorPosition,\r\n            isDown: false,\r\n            transform: positionFix,\r\n            prevTransform: positionFix,\r\n            currentSlide: currentSlide\r\n        })\r\n    }\r\n\r\n    const images = (imageList) => {\r\n        return imageList.map((image, index) => {\r\n        return <div key={`${image}${index}`} className={styles.slide} style={{width: `${100 / props.images.length}%`}}>{image.src ? \r\n                <img src={image.src} alt={image.src}/> \r\n                    :\r\n                image\r\n        }</div>\r\n        })\r\n    }\r\n\r\n    return(\r\n    <div \r\n    ref={ref} \r\n    className={styles.container} \r\n    >\r\n        <div \r\n            id={\"sliderContainer\"}\r\n            className={styles.slideContainer}\r\n            style={{\r\n                width: `${props.images.length * 100}%`,\r\n                transform: `translateX(${cursorPosition.transform}%)`,\r\n            }}\r\n            onMouseDown={(e) => {startHandler(e)}}\r\n            onTouchStart ={(e) => {startHandler(e)}}\r\n\r\n            onMouseMove={(e) => {moveHandler(e)}}\r\n            onTouchMove={(e) => {moveHandler(e)}}\r\n\r\n            onMouseUp={() => {endHandler()}}\r\n            onTouchEnd={() => {endHandler()}}\r\n        >\r\n            {images(props.images)}\r\n        </div>\r\n    </div>)\r\n}) \r\n\r\nexport default Carousel","import React, { Fragment } from 'react';\nimport Carousel from './carousel/Carousel';\nimport './css/index.css'\n\nfunction App() {\n  const carouselRef = React.createRef(null)\n  const [currentSlide, setCurrentSlide] = React.useState(0)\n  const [imageList, changeImageList] = React.useState([1,2,3,4,5])\n\n  const families = {\n    sparkle: [\n      {src: './images/sparkle-1.png', index: 0},\n      {src: './images/sparkle-2.png', index: 1},\n      {src: './images/sparkle-3.png', index: 2}\n    ],\n    spring: [\n      {src: './images/spring-1.png', index: 0},\n      {src: './images/spring-2.png', index: 1},\n      {src: './images/spring-3.png', index: 2}\n    ]\n  }\n  const renderEmoji = (data) => {\n    const families = Object.keys(data)\n\n    const images = families.map((family) => {\n      return(\n        <div key={family} className=\"famCotnainer\">\n          <h3>{family}</h3>\n          <div className=\"famImages\">\n            {data[family].map((img, index, arr) => {return(\n              <div className=\"imgWrapper\">\n                  <img \n                  key={img.src} \n                  src={img.src} \n                  alt={img.src} \n                  onClick={() => {\n                    changeImageList(data[family])\n                    setCurrentSlide(img.index)\n                    const slideContainer = document.getElementById(\"sliderContainer\")\n                    slideContainer.classList.add(\"smoothSlide\")\n                    slideContainer.style.transform = `translateX(-${(100 / arr.length) * img.index}%)`\n                  }}\n                  />\n              </div>\n            )})}\n          </div>\n        </div>\n      )\n    })\n    return images\n  }\n  return (\n    <Fragment>\n      <div className=\"App\">\n        <Carousel \n        ref={carouselRef} \n        images={imageList}\n        currentSlide={currentSlide}\n        >\n          \n        </Carousel>\n        <div className=\"fams\">\n          {renderEmoji(families)}\n        </div>\n      </div>\n    </Fragment>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}