{"version":3,"sources":["components/Carousel.js","App.js","index.js","components/css/index.module.scss"],"names":["Carousel","props","zoomDefault","zoom","scale","distance","origin","zoomRef","React","useRef","slideTo","index","newTransfrom","images","length","setSlidePosition","slidePosition","currentSlide","currentTransform","prevTransform","containerRef","useState","initialTransform","setZoom","bind","useGesture","onDragEnd","state","x","direction","positionFix","slideCount","slideWidth","console","log","dragEndHandler","movement","onDrag","containerWidth","current","clientWidth","transform","onPinchStart","onPinch","pinchDistance","da","clientHeight","window","innerHeight","useEffect","ref","className","styles","container","showOverflow","id","slideContainer","style","width","map","image","slide","key","draggable","src","alt","button_zoom","onClick","newScale","position","right","bottom","display","App","setCurrentSlide","setImages","families","sparkle","spring","familyList","Object","keys","family","array","document","getElementById","classList","add","ReactDOM","render","StrictMode","module","exports"],"mappings":"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","file":"static/js/main.63a275e2.chunk.js","sourcesContent":["import React, { useEffect } from 'react'\r\nimport { useDrag, useMove, useGesture } from 'react-use-gesture'\r\n\r\nimport styles from './css/index.module.scss'\r\n\r\nconst Carousel = props => {\r\n    const zoomDefault =  {\r\n        zoom: false,\r\n        scale: 1,\r\n        distance: 0,\r\n        origin: 0\r\n    }\r\n\r\n    const zoomRef = React.useRef(null)\r\n    const currentSlideRef = React.useRef(null)\r\n\r\n    const slideTo = (index) => {\r\n        const newTransfrom = -((100 / props.images.length) * index)\r\n        setSlidePosition({\r\n            ...slidePosition,\r\n            currentSlide: index,\r\n            currentTransform: newTransfrom,\r\n            prevTransform: newTransfrom,\r\n            zoom: {...zoomDefault}\r\n        })\r\n    }\r\n\r\n    const dots = (imageList) => {\r\n        if(!imageList || imageList.length < 0){return}\r\n        const dots = imageList.map((image, index) => {\r\n            return <li \r\n            onClick={() => {\r\n                slideTo(index)\r\n            }}\r\n            key={`carouselDot-${index}`} \r\n            className={`${styles.dot} ${index === slidePosition.currentSlide ? styles.dot_active : \"\"}`}\r\n            ></li>\r\n        })\r\n        return <ul className={styles.dotList}>{dots}</ul>\r\n    }\r\n\r\n\r\n\r\n\r\n    const renderImages = (data) => {\r\n        return data.map((image, index) => {\r\n        return (\r\n            <div\r\n            className={`${styles.slide} ${zoom.zoom ? styles.showOverflow : \"\"}`}\r\n            // ref={cursorPosition.currentSlide === image.index ? currentSlideRef : null }\r\n            key={`${image}-${index}`}\r\n            style={{width: `${100 / props.images.length}%`}}\r\n            >                       \r\n                <img \r\n                    draggable={false}\r\n                    // ref={cursorPosition.currentSlide === image.index ? zoomRef : null}\r\n                    style={{transform: `scale(${zoom.scale})`}}\r\n                        // {transform: \r\n                        // `scale(${zoom.scale}) \r\n                        // translate(${zoom.zoom.x}%, \r\n                        // ${zoom.zoom.y}%)\r\n                        // `} \r\n                        // : {}}\r\n                    src={image.src}\r\n                    alt={image.src}\r\n                />\r\n            </div>\r\n        )\r\n        })\r\n    }\r\n          \r\n    const containerRef = React.useRef()\r\n    const [slidePosition, setSlidePosition] = React.useState({\r\n        currentSlide: props.currentSlide,\r\n        prevTransform: props.initialTransform,\r\n        currentTransform: props.initialTransform\r\n    })\r\n    const [zoom, setZoom] = React.useState({\r\n        zoom: false,\r\n        scale: 1,\r\n        distance: 0,\r\n        origin: 0\r\n    })\r\n\r\n    const dragEndHandler = (x) => {\r\n        if(zoom.zoom){\r\n            console.log(\"zoom\")\r\n            return}\r\n        const direction = x < 0 ? 1 : -1\r\n\r\n        var positionFix = slidePosition.currentTransform;\r\n        var slideCount = props.images.length;\r\n        var slideWidth = 100 / slideCount;\r\n        var index = null\r\n\r\n        if (positionFix > 0) {\r\n          positionFix = 0;\r\n          index = 0;\r\n        } \r\n        if (positionFix < slideWidth - 100) {\r\n            positionFix = (slideWidth - 100);\r\n            index = slideCount - 1;\r\n        } \r\n        else {\r\n        index = slidePosition.currentSlide + direction;\r\n        // console.log({currentSlide: slidePosition.currentSlide, next: index, direction, x})\r\n            if(index < 0){index = 0}\r\n            if(index > slideCount - 1){index = slideCount -1 }\r\n            positionFix = -((index) * (100 / slideCount));\r\n        }\r\n        return setSlidePosition({\r\n            ...slidePosition, \r\n            currentSlide: index,\r\n            // prevTransform: slidePosition.currentTransform,\r\n            prevTransform: positionFix,\r\n            currentTransform: positionFix,\r\n        })\r\n    }\r\n\r\n    const bind = useGesture(\r\n        {\r\n            onDragEnd: (state) => dragEndHandler(state.movement[0]),\r\n            // onDrag: ({movement: [mx, my]}) => {\r\n            onDrag: (state) => {\r\n                if(zoom.zoom){\r\n                    console.log(\"zoom\")\r\n                    return}\r\n                // console.log(state)\r\n                // state.event.stopPropagation()\r\n                  const containerWidth = containerRef.current.clientWidth;\r\n                  const slideCount = props.images.length\r\n                  let  transform = slidePosition.prevTransform + ((state.movement[0] * 100 / containerWidth) / slideCount)\r\n\r\n                //   transform = transform.toFixed(2)\r\n                //   console.log({transform})\r\n                //   console.log({...slidePosition})\r\n                  return setSlidePosition({ \r\n                    ...slidePosition,  \r\n                    currentTransform: transform,\r\n                    })\r\n            },\r\n            onPinchStart: state => {\r\n                setZoom({\r\n                    ...zoom,\r\n                    zoom: true\r\n                })\r\n            },\r\n            onPinch: state => {\r\n                // console.log(state.da[0])\r\n                const pinchDistance = state.da[0]\r\n                const containerHeight = containerRef.current.clientHeight;\r\n                const maxHeight = window.innerHeight\r\n                const imgToWindowRatio = maxHeight / zoomRef.current.clientHeight\r\n                const maxZoom = zoomRef.clientHeight\r\n                const scale = pinchDistance / 100\r\n                setZoom({\r\n                    ...zoom,\r\n                    distance: state.da[0],\r\n                    scale\r\n                })\r\n            }\r\n\r\n\r\n        }\r\n    )\r\n\r\n    useEffect(() => {\r\n        slideTo(props.currentSlide)\r\n      }, [props])\r\n\r\n    return(\r\n            <div \r\n                ref={containerRef}\r\n                className={`${styles.container} ${zoom.zoom ? styles.showOverflow : \"\"}`}\r\n            >\r\n            <div \r\n                {...bind()}\r\n                id=\"slideContainer\"\r\n                className={styles.slideContainer}\r\n                style={{\r\n                    width: `${100 * props.images.length}%`,\r\n                    // transform: `translateX(${-cursorPosition.transform}%)`\r\n                    transform: `translateX(${slidePosition.currentTransform}%)`\r\n                }}\r\n            >\r\n                {renderImages(props.images)}\r\n            </div>\r\n            <button \r\n            className={styles.button_zoom}\r\n            onClick={() => {\r\n                let newScale = zoom.scale + 1\r\n                let newZoom = true\r\n                newScale = newScale > 3 ? 1 : newScale\r\n                newZoom = newScale === 1 ? false : true\r\n                setZoom({\r\n                    zoom: newZoom,\r\n                    scale: newScale\r\n                })\r\n                // let zoomedIn = null\r\n                // const countZoom = () => {\r\n                //     let zoomPower = cursorPosition.zoom.zoomPower + 1\r\n                //     zoomedIn = true\r\n                //     if(zoomPower > 3){\r\n                //         zoomPower = 1\r\n                //         zoomedIn = false\r\n                //     }\r\n                //     return {zoomPower, zoomedIn}\r\n                // }\r\n                // const zoom = countZoom()\r\n                // setCursorPosition({\r\n                //     ...cursorPosition, \r\n                //     zoom: {\r\n                //         ...cursorPosition.zoom,\r\n                //         zoomedIn: zoom.zoomedIn,\r\n                //         zoomPower: zoom.zoomPower,\r\n                //         zoomIndex: cursorPosition.currentSlide,\r\n                //         y: 0,\r\n                //         x: 0\r\n                //     }\r\n                // })\r\n            }}>enlarge</button>\r\n            <div\r\n            style={{\r\n                position: \"absolute\",\r\n                right: 0,\r\n                bottom: 0,\r\n                display: \"flex\"\r\n            }}>\r\n                <span >distance: {zoom.distance} | </span>\r\n                <span>origin: {zoom.origin} | </span>\r\n                <span>scale: {zoom.scale} | </span>\r\n                <span>zoom: {zoom.zoom ? \"true\" : \"false\"} | </span>\r\n            </div>\r\n            {/* {dots(props.images)} */}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Carousel\r\n\r\n\r\n  ","import React, { useEffect } from 'react';\r\nimport Carousel from './components/Carousel'\r\nimport './index.css'\r\n\r\nconst App = props => {\r\n  let [currentSlide, setCurrentSlide] = React.useState({\r\n    index: 0, \r\n    initialTransform: 0})\r\n  var [images, setImages] = React.useState([1, 2, 3, 4, 5])\r\n\r\n  const families = {\r\n    sparkle: [{\r\n      src: \"./images/sparkle-1.png\",\r\n      index: 0\r\n    }, {\r\n      src: \"./images/sparkle-2.png\",\r\n      index: 1\r\n    }, {\r\n      src: \"./images/sparkle-3.png\",\r\n      index: 2\r\n    },\r\n    {\r\n      src: \"./images/sparkle-4.png\",\r\n      index: 3\r\n    },\r\n    {\r\n      src: \"./images/long.jpg\",\r\n      index: 4\r\n    },\r\n    {\r\n      src: \"./images/tall.png\",\r\n      index: 5\r\n    }],\r\n\r\n    spring: [{\r\n      src: \"./images/spring-1.png\",\r\n      index: 0\r\n    }, {\r\n      src: \"./images/spring-2.png\",\r\n      index: 1\r\n    }, {\r\n      src: \"./images/spring-3.png\",\r\n      index: 2\r\n    }]\r\n  }\r\n\r\n  const familyList = Object.keys(families)\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Carousel \r\n        currentSlide={currentSlide.index}\r\n        initialTransform={currentSlide.initialTransform}\r\n        images={images}\r\n      />\r\n      <div className=\"fams\">\r\n        {   \r\n          familyList.map((family) => {\r\n            return <div key={family} className=\"famContainer\">\r\n              <h3>{family}</h3>\r\n              <div className=\"famImages\">\r\n                {\r\n                  families[family].map((image, index, array) => {\r\n                    return <div key={`${image}-${index}`} className=\"imgWrapper\">\r\n                      <img \r\n                          key={image.src}\r\n                          src={image.src}\r\n                          alt={image.src}\r\n\r\n                          onClick={() => {\r\n                            setImages(families[family]);\r\n                            setCurrentSlide({index: image.index, initialTransform: (100 / array.length * image.index)});\r\n                            var slideContainer = document.getElementById(\"slideContainer\");\r\n                            slideContainer.classList.add(\"smoothSlide\");\r\n                          }}\r\n                      />\r\n                    </div>\r\n                  })\r\n                }\r\n              </div>\r\n            </div>\r\n        })\r\n        }\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"disableBodyScroll\":\"css_disableBodyScroll__1xH86\",\"showOverflow\":\"css_showOverflow__3ap7Y\",\"container\":\"css_container__3i3vU\",\"slideContainer\":\"css_slideContainer__8k5Ho\",\"slide\":\"css_slide__mS6RN\",\"button_zoom\":\"css_button_zoom__2VlCI\",\"zoomedIn\":\"css_zoomedIn__2LEqu\",\"dotList\":\"css_dotList__h_sCG\",\"dot\":\"css_dot__3W-KR\",\"dot_active\":\"css_dot_active__3K7-S\"};"],"sourceRoot":""}