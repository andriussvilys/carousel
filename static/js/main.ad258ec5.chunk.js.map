{"version":3,"sources":["components/css/index.module.scss","components/Carousel.js","App.js","index.js"],"names":["module","exports","Carousel","props","zoomDefault","zoomedIn","zoomIndex","zoomPower","x","y","startX","startY","React","useState","isDown","cursorMove","transform","prevTransform","initialTransform","currentSlide","index","zoom","pinchStart","x1","x2","y1","y2","cursorPosition","setCursorPosition","zoomRef","useRef","currentSlideRef","zoomIn","console","log","countZoom","startHandle","e","preventDefault","touches","length","container","document","querySelector","styles","pageX","offsetLeft","pageY","offsetTop","slideContainer","classList","remove","left","moveHandle","containerDiagonal","Math","hypot","clientHeight","clientWidth","pinchSize","window","innerWidth","add","disableBodyScroll","current","zoomedImage","offset","getBoundingClientRect","top","imgToSlideHeightRatio","imgToSlideWidthRatio","marginY","middleGuideY","panY","clientY","toFixed","marginX","middleGuideX","panX","clientX","endHandle","abs","direction","positionFix","slideCount","images","slideWidth","useEffect","className","pinch","pinch2","id","style","width","onMouseDown","type","onTouchStart","onMouseMove","onTouchMove","onMouseUp","onMouseOut","setTimeout","onTouchEnd","map","image","slide","ref","key","src","alt","button_zoom","onClick","imageList","dots","newTransfrom","slideTo","dot","dot_active","dotList","App","setCurrentSlide","setImages","families","sparkle","spring","familyList","Object","keys","family","array","getElementById","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.ad258ec5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"disableBodyScroll\":\"css_disableBodyScroll__1xH86\",\"container\":\"css_container__3i3vU\",\"slideContainer\":\"css_slideContainer__8k5Ho\",\"slide\":\"css_slide__mS6RN\",\"button_zoom\":\"css_button_zoom__2VlCI\",\"zoomedIn\":\"css_zoomedIn__2LEqu\",\"dotList\":\"css_dotList__h_sCG\",\"dot\":\"css_dot__3W-KR\",\"dot_active\":\"css_dot_active__3K7-S\",\"pinch\":\"css_pinch__251h0\",\"pinch2\":\"css_pinch2__i_JBN\"};","import React, { useEffect } from 'react'\r\nimport styles from './css/index.module.scss'\r\n\r\nconst Carousel = props => {\r\n    const zoomDefault =  {\r\n        zoomedIn: null,\r\n        zoomIndex: null,\r\n        zoomPower: 1,\r\n        x: 0,\r\n        y: 0,\r\n        startX: null,\r\n        startY: null,\r\n    }\r\n    const [cursorPosition, setCursorPosition] = React.useState({\r\n          isDown: null,\r\n          startX: null,\r\n          cursorMove: 0,\r\n          transform: 0,\r\n          prevTransform: props.initialTransform,\r\n          currentSlide: props.index,\r\n          zoom: {...zoomDefault},\r\n          pinchStart: {\r\n              x1: 0,\r\n              x2: 0,\r\n              y1: 0,\r\n              y2: 0,\r\n          }\r\n        });\r\n\r\n    const zoomRef = React.useRef(null)\r\n    const currentSlideRef = React.useRef(null)\r\n\r\n\r\n    const slideTo = (index) => {\r\n        const newTransfrom = (100 / props.images.length) * index\r\n        setCursorPosition({\r\n            ...cursorPosition,\r\n            currentSlide: index,\r\n            transform: newTransfrom,\r\n            prevTransform: newTransfrom,\r\n            zoom: {...zoomDefault}\r\n        })\r\n    }\r\n\r\n    const dots = (imageList) => {\r\n        if(!imageList || imageList.length < 0){return}\r\n        const dots = imageList.map((image, index) => {\r\n            return <li \r\n            onClick={() => {\r\n                slideTo(index)\r\n            }}\r\n            key={`carouselDot-${index}`} \r\n            className={`${styles.dot} ${index === cursorPosition.currentSlide ? styles.dot_active : \"\"}`}\r\n            ></li>\r\n        })\r\n        return <ul className={styles.dotList}>{dots}</ul>\r\n    }\r\n\r\n    const renderImages = (data) => {\r\n        return data.map((image, index) => {\r\n        return (\r\n            <div\r\n            className={styles.slide}\r\n            ref={cursorPosition.currentSlide === image.index ? currentSlideRef : null }\r\n            key={`${image}-${index}`}\r\n            style={{width: `${100 / props.images.length}%`}}\r\n            >                       \r\n                <img \r\n                    ref={cursorPosition.currentSlide === image.index ? zoomRef : null}\r\n                    style={cursorPosition.zoom.zoomedIn ? \r\n                        {transform: \r\n                        `scale(${cursorPosition.zoom.zoomPower}) \r\n                        translate(${cursorPosition.zoom.x}%, \r\n                        ${cursorPosition.zoom.y}%)`} \r\n                        : {}}\r\n                    src={image.src}\r\n                    alt={image.src}\r\n                />\r\n            </div>\r\n        )\r\n        })\r\n    }\r\n\r\n    const zoomIn = () => {\r\n        console.log(\"ZOOM IN\")\r\n        let zoomedIn = null\r\n        const countZoom = () => {\r\n            let zoomPower = cursorPosition.zoom.zoomPower + 1\r\n            zoomedIn = true\r\n            if(zoomPower > 3){\r\n                zoomPower = 1\r\n                zoomedIn = false\r\n            }\r\n            return {zoomPower, zoomedIn}\r\n        }\r\n        const zoom = countZoom()\r\n        return setCursorPosition({\r\n            ...cursorPosition, \r\n            isDown: false,\r\n            zoom: {\r\n                ...cursorPosition.zoom,\r\n                zoomedIn: zoom.zoomedIn,\r\n                zoomPower: zoom.zoomPower,\r\n                zoomIndex: cursorPosition.currentSlide,\r\n                y: 0,\r\n                x: 0\r\n            }\r\n        })\r\n    }\r\n\r\n    const zoomOut = () => {\r\n        if(cursorPosition.zoom.zoomedIn){\r\n            zoomRef.current.classList.add(\"smoothSlide\")\r\n            setTimeout(() => {\r\n                zoomRef.current.classList.remove(\"smoothSlide\")\r\n            }, 100);\r\n            setCursorPosition({\r\n                ...cursorPosition,\r\n                zoom: {...zoomDefault}\r\n            })\r\n        }\r\n    }\r\n\r\n        const startHandle = (e) => {\r\n            e.preventDefault();\r\n            if(e.touches && e.touches.length > 1){\r\n                const container = document.querySelector(`.${styles.container}`)\r\n                setCursorPosition({\r\n                    ...cursorPosition,\r\n                    pinchStart: {\r\n                        x1: e.touches[0].pageX - container.offsetLeft,\r\n                        x2: e.touches[1].pageX - container.offsetLeft,\r\n                        y1: e.touches[0].pageY - container.offsetTop,\r\n                        y2: e.touches[1].pageY - container.offsetTop,\r\n                    }\r\n                })\r\n                return\r\n            }\r\n            const container = document.querySelector(`.${styles.container}`)\r\n            document.querySelector(`.${styles.slideContainer}`).classList.remove(\"smoothSlide\");\r\n            const left = e.touches ? e.touches[0].pageX: e.pageX;\r\n\r\n            setCursorPosition({\r\n                ...cursorPosition,\r\n                isDown: true,\r\n                startX: left - container.offsetLeft\r\n            })\r\n          };\r\n\r\n        const moveHandle = (e) => {\r\n            if(e.touches && e.touches.length > 1){\r\n                console.log(e.touches)\r\n                const container = document.querySelector(`.${styles.container}`)\r\n\r\n                const containerDiagonal = Math.hypot(container.clientHeight - container.clientWidth)\r\n\r\n                const pinchTravel = Math.hypot(\r\n                    (e.touches[0].pageX - container.offsetLeft) - (e.touches[1].pageX - container.offsetLeft), \r\n                    (e.touches[0].pageY - container.offsetTop) - (e.touches[1].pageY - container.offsetLeft))\r\n\r\n                const zoomPower = pinchTravel * 100 / containerDiagonal\r\n                setCursorPosition({\r\n                    ...cursorPosition,\r\n                    pinchSize: zoomPower\r\n                })\r\n                return\r\n            }\r\n            if(cursorPosition.zoom.zoomedIn){\r\n                console.log(\"mouse move zoom in\")\r\n                e.preventDefault()\r\n                if(window.innerWidth < 720){\r\n                    document.querySelector(\"body\").classList.add(styles.disableBodyScroll)\r\n                }\r\n            //   const slideContainer = document.querySelector(`.${styles.slideContainer}`)\r\n            const slideContainer = currentSlideRef.current\r\n            const zoomedImage = zoomRef.current\r\n              const container = document.querySelector(`.${styles.container}`)\r\n              const offset = {y: container.getBoundingClientRect().y, x: container.getBoundingClientRect().x, top: container.getBoundingClientRect().top}\r\n\r\n              \r\n              const imgToSlideHeightRatio = zoomedImage.clientHeight * 100 / slideContainer.clientHeight\r\n              const imgToSlideWidthRatio = zoomedImage.clientWidth * 100 / slideContainer.clientWidth\r\n              \r\n              const visibleSectionY = imgToSlideHeightRatio / cursorPosition.zoom.zoomPower\r\n              const marginY = ((100 - visibleSectionY) / 2) + 20\r\n              const middleGuideY = slideContainer.clientHeight / 2\r\n              let y = e.touches ? e.touches[0].clientY - offset.y : e.clientY - offset.y;\r\n              let moveY = y - middleGuideY\r\n              let panY = (moveY * marginY / middleGuideY).toFixed(2)\r\n\r\n              const visibleSectionX = imgToSlideWidthRatio / cursorPosition.zoom.zoomPower\r\n              const marginX = ((100 - visibleSectionX) / 2) + 20\r\n              const middleGuideX = slideContainer.clientWidth / 2\r\n              let x = e.touches ? e.touches[0].clientX - offset.x : e.clientX - offset.x\r\n              let moveX = x - middleGuideX\r\n              let panX = (moveX * marginX / middleGuideX).toFixed(2)\r\n\r\n                return setCursorPosition({\r\n                    ...cursorPosition, \r\n                    zoom:{...cursorPosition.zoom, \r\n                        y:panY, \r\n                        x: panX\r\n                    }\r\n                })\r\n            }\r\n            else if(!cursorPosition.isDown){return}\r\n            console.log(\"mouse move\")\r\n              e.preventDefault();\r\n              var slideContainer = document.querySelector(`.${styles.slideContainer}`);\r\n            const container = document.querySelector(`.${styles.container}`)\r\n\r\n              \r\n              const x = e.touches ? e.touches[0].pageX - container.offsetLeft: e.pageX - container.offsetLeft\r\n              const cursorMove = cursorPosition.startX - x\r\n              var walk = 100 * (cursorMove) / slideContainer.clientWidth;\r\n              var transform = walk + cursorPosition.prevTransform;\r\n\r\n              setCursorPosition({\r\n                ...cursorPosition,\r\n                cursorMove,\r\n                transform: transform,\r\n              })\r\n          };\r\n\r\n          var endHandle = (e) => {\r\n            const container = document.querySelector(`.${styles.slideContainer}`)\r\n            container.classList.add(\"smoothSlide\");\r\n            if(!e.touches){\r\n                if(cursorPosition.zoom.zoomedIn){ \r\n                    console.log(\"cursorPosition.zoom.zoomedIn\")\r\n                    zoomIn()\r\n                    document.querySelector(\"body\").classList.remove(styles.disableBodyScroll) \r\n                    return\r\n                }\r\n                if(!cursorPosition.isDown){\r\n                    console.log(\"!cursorPosition.isDown\")\r\n                    return\r\n                }\r\n                if(Math.abs(cursorPosition.cursorMove) < 10){\r\n                    console.log(\"cursorPosition.cursorMove < 10\")\r\n                    zoomIn()\r\n                    return\r\n                }\r\n            }\r\n            if(!cursorPosition.isDown){\r\n                console.log(\"!cursorPosition.isDown\")\r\n                return\r\n            }\r\n\r\n            let direction = null\r\n            direction = cursorPosition.cursorMove > 0 ? 1 : -1\r\n\r\n            console.log({cursorMove: cursorPosition.cursorMove, direction})\r\n\r\n            var positionFix = cursorPosition.transform;\r\n            var index = null;\r\n            var slideCount = props.images.length;\r\n            var slideWidth = 100 / slideCount;\r\n\r\n            if (positionFix > 0) {\r\n              positionFix = 0;\r\n              index = 0;\r\n            } \r\n            if (positionFix < slideWidth - 100) {\r\n                positionFix = slideWidth - 100;\r\n                index = slideCount - 1;\r\n            } \r\n            else {\r\n            index = cursorPosition.currentSlide + direction;\r\n                if(index < 0){index = 0}\r\n                if(index > slideCount - 1){index = slideCount -1 }\r\n                positionFix = (index) * (100 / slideCount);\r\n            }\r\n            setCursorPosition({\r\n            ...cursorPosition,\r\n            isDown: false,\r\n            cursorMove: 0,\r\n            transform: positionFix,\r\n            prevTransform: positionFix,\r\n            currentSlide: index\r\n            })\r\n          };\r\n\r\n\r\n\r\n        useEffect(() => {\r\n            setCursorPosition({\r\n                ...cursorPosition,\r\n                direction: null,\r\n                transform: props.initialTransform,\r\n                prevTransform: props.initialTransform,\r\n                currentSlide: props.currentSlide,\r\n                zoom:{...zoomDefault}\r\n            })\r\n          }, [props])\r\n\r\n    return(\r\n            <div className={styles.container}>\r\n            <h3 className={styles.pinch}>Pinch: {cursorPosition.pinchSize}</h3>\r\n            <h3 className={styles.pinch2}>Pinch start: \r\n            x1: {cursorPosition.pinchStart.x1}, \r\n            x2: {cursorPosition.pinchStart.x2}, \r\n            y1: {cursorPosition.pinchStart.y1}, \r\n            y2: {cursorPosition.pinchStart.y2}, \r\n            </h3>\r\n            <div \r\n                id=\"slideContainer\"\r\n                className={styles.slideContainer}\r\n                style={{\r\n                    width: `${100 * props.images.length}%`,\r\n                    transform: `translateX(${-cursorPosition.transform}%)`\r\n                }}\r\n                onMouseDown={(e) => {startHandle(e); console.log(e.type)} }\r\n                onTouchStart={(e) => {startHandle(e); console.log(e.type)} }\r\n                onMouseMove={(e) => {moveHandle(e); console.log(e.type)} }\r\n                onTouchMove={(e) => {moveHandle(e); console.log(e.type)} }\r\n                onMouseUp={(e) => {endHandle(e); console.log(e.type)} }\r\n                onMouseOut={(e) => {endHandle(e); console.log(e.type); \r\n                    zoomOut()\r\n                } }\r\n                onTouchEnd={(e) => {endHandle(e);} }\r\n            >\r\n                {renderImages(props.images)}\r\n            </div>\r\n            <button \r\n            className={styles.button_zoom}\r\n            onClick={() => {\r\n                let zoomedIn = null\r\n                const countZoom = () => {\r\n                    let zoomPower = cursorPosition.zoom.zoomPower + 1\r\n                    zoomedIn = true\r\n                    if(zoomPower > 3){\r\n                        zoomPower = 1\r\n                        zoomedIn = false\r\n                    }\r\n                    return {zoomPower, zoomedIn}\r\n                }\r\n                const zoom = countZoom()\r\n                setCursorPosition({\r\n                    ...cursorPosition, \r\n                    zoom: {\r\n                        ...cursorPosition.zoom,\r\n                        zoomedIn: zoom.zoomedIn,\r\n                        zoomPower: zoom.zoomPower,\r\n                        zoomIndex: cursorPosition.currentSlide,\r\n                        y: 0,\r\n                        x: 0\r\n                    }\r\n                })\r\n            }}>enlarge</button>\r\n            {dots(props.images)}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Carousel\r\n\r\n\r\n  ","import React, { useEffect } from 'react';\r\nimport Carousel from './components/Carousel'\r\nimport './index.css'\r\n\r\nconst App = props => {\r\n  let [currentSlide, setCurrentSlide] = React.useState({index: null, initialTransform: null})\r\n  var [images, setImages] = React.useState([1, 2, 3, 4, 5])\r\n\r\n  const families = {\r\n    sparkle: [{\r\n      src: \"./images/sparkle-1.png\",\r\n      index: 0\r\n    }, {\r\n      src: \"./images/sparkle-2.png\",\r\n      index: 1\r\n    }, {\r\n      src: \"./images/sparkle-3.png\",\r\n      index: 2\r\n    },\r\n    {\r\n      src: \"./images/sparkle-4.png\",\r\n      index: 3\r\n    },\r\n    {\r\n      src: \"./images/long.jpg\",\r\n      index: 4\r\n    },\r\n    {\r\n      src: \"./images/tall.png\",\r\n      index: 5\r\n    }],\r\n\r\n    spring: [{\r\n      src: \"./images/spring-1.png\",\r\n      index: 0\r\n    }, {\r\n      src: \"./images/spring-2.png\",\r\n      index: 1\r\n    }, {\r\n      src: \"./images/spring-3.png\",\r\n      index: 2\r\n    }]\r\n  }\r\n\r\n  const familyList = Object.keys(families)\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Carousel \r\n        currentSlide={currentSlide.index}\r\n        initialTransform={currentSlide.initialTransform}\r\n        images={images}\r\n      />\r\n      <div className=\"fams\">\r\n        {   \r\n          familyList.map((family) => {\r\n            return <div key={family} className=\"famContainer\">\r\n              <h3>{family}</h3>\r\n              <div className=\"famImages\">\r\n                {\r\n                  families[family].map((image, index, array) => {\r\n                    return <div key={`${image}-${index}`} className=\"imgWrapper\">\r\n                      <img \r\n                          key={image.src}\r\n                          src={image.src}\r\n                          alt={image.src}\r\n\r\n                          onClick={() => {\r\n                            setImages(families[family]);\r\n                            setCurrentSlide({index: image.index, initialTransform: (100 / array.length * image.index)});\r\n                            var slideContainer = document.getElementById(\"slideContainer\");\r\n                            slideContainer.classList.add(\"smoothSlide\");\r\n                          }}\r\n                      />\r\n                    </div>\r\n                  })\r\n                }\r\n              </div>\r\n            </div>\r\n        })\r\n        }\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}